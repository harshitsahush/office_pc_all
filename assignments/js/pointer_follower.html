<html>
    <head>
        <title>Pointer follower</title>

        <style>

            .remove{                        /* will remove the element */
                display: none;
            }

            .main_container{
                height:100vh;
                width:100vh;
                display: flex;              /* to arrange the child blocks */
                flex-wrap: wrap;
                background-color: rgb(80, 80, 114);
            }


            .block-active{
                background-color: red!important;
            }

        </style>

        <script>
            document.addEventListener("DOMContentLoaded", ()=>{
                
                document.addEventListener("click", function(e){
                    if(e.target.id=="button")
                    {
                        if(document.getElementById("input_number").value=="" || document.getElementById("input_number").value<1 || document.getElementById("input_number").value>=100)
                        {
                            alert("Please input a value >0 and <=100");
                        }

                        else
                        {   
                            let num = document.getElementById("input_number").value; 
                            let calc = 100/num;
                            //remove the box containing the input/button
                            document.getElementsByClassName("input_window")[0].classList.add("remove");
                            
                            //create a block and run a loop appropriate time to add them to main container
                            let child_element=document.createElement("div");
                            child_element.setAttribute("style", "height:"+calc+"vh;"+"width:"+calc+"vh;flex-shrink:0;");
                            child_element.classList.add("block");

                            for(let i=0; i<num*num; i++)        //since we want a grid of num*num
                            {   
                                document.getElementsByClassName("main_container")[0].appendChild(child_element.cloneNode(true));
                            }

                            document.addEventListener("mouseover", function(e){
                                if(e.target.className == "block")
                                {
                                    console.log(e);
                                    e.target.classList.add("block-active");
                                }
                            });

                            document.addEventListener("mouseout", function(e){
                                if(e.target.classList.contains("block"))
                                {
                                    e.target.classList.remove("block-active");
                                }
                            });
                            
                        }
                    }
                });
            });
        </script>
    </head>



    <body>
        <div class="main_container">
            <div class="input_window">
                <p>Please enter the number of boxes</p>
                <input type="number" id="input_number" value=""/>
                <button id="button">OK</button>
            </div>
        </div>
    </body>
</html>